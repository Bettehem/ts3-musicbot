image: "archlinux"

before_script:
  - pacman -Sy kotlin gradle jdk8-openjdk java8-openjfx --noconfirm

stages:
  - build
  - test

buildTS3MusicBot:
  stage: build
  script:
    - gradle build

testCommandRunner:
  stage: test
  script:
    - gradle :test --tests "ts3_musicbot.CommandRunnerTest"

testApis:
  stage: test
  script:
    - gradle :test --tests "ts3_musicbot.SpotifyTest"
    - gradle :test --tests "ts3_musicbot.YouTubeTest"